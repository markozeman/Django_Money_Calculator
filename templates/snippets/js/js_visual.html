{% block content %}

    <div id="chartContainer" style="width: 1500px; height: 700px; margin: 100px;">
    </div>

    <script type="text/javascript">
        var visual_data = {{ json_data|safe }};
        console.log(visual_data);

        for (var key in visual_data) {
            var value = visual_data[key];
            var datum = new Date (value[0]);
            console.log(datum);
        }

        draw(visual_data);

        function draw(visual_data) {
            var chart = new CanvasJS.Chart("chartContainer",
            {

              title:{
              text: "Earthquakes - per month"
              },
               data: [
              {
                type: "line",

                dataPoints: [
                { x: new Date(2012, 00, 1), y: 450 },
                { x: new Date(2012, 01, 1), y: 414 },
                { x: new Date(2012, 02, 1), y: 520 },
                { x: new Date(2012, 03, 1), y: 460 },
                { x: new Date(2012, 04, 1), y: 450 },
                { x: new Date(2012, 05, 1), y: 500 },
                { x: new Date(2012, 06, 1), y: 480 },
                { x: new Date(2012, 07, 1), y: 480 },
                { x: new Date(2012, 08, 1), y: 410 },
                { x: new Date(2012, 09, 1), y: 500 },
                { x: new Date(2012, 10, 1), y: 480 },
                { x: new Date(2012, 11, 1), y: 510 }
                ]
              }
              ]
            });

            chart.render();
          }

    </script>

{% endblock %}